version: "2.0"

intents:
  - request_clothes
  - request_clothes_price
  - inform
  - chitchat
  - faq
  - who_am_i
  - out_of_scope
  - human_handoff
  - greet
  - affirm
  - deny
  - goodbye
  - stop
  - feedback
  - give_name


entities:
  - category
  - number
  - color
  - gender
  - PERSON
  - email

slots:
  PERSON:
    type: any
    influence_conversation: false
  email:
    type: text
    influence_conversation: false
  gender:
    type: categorical
    values:
      - niÃ±a
      - niÃ±o
    influence_conversation: false
  size:
    type: text
    influence_conversation: false
  color:
    type: text
    influence_conversation: false
  category:
    type: text
    influence_conversation: false
  feedback_value:
    influence_conversation: false
    type: categorical
    values:
      - 1
      - 2
      - 3
      - 4
  feedback_fill:
    type: bool


responses:
  utter_greet:
    - text: "Hola! Como estÃ¡s?"

  utter_default:
    - text: Lo siento, pero no te entendÃ­ ğŸ˜­. Â¿Puedes repetÃ­rmelo?
    - text: Ummm, quÃ© me acabas de decir? ğŸ¤”
    - text: beep, boop! ğŸ˜µ No entiendo lo que me quieres decir!
  
  utter_out_of_scope:
    - text: Parece que me estÃ¡s preguntando cosas raras.
  
  utter_submit:
    - text: 'Perfecto! Eso es todo ğŸ¤“.'

  utter_slots_values:
    - text: "Voy a buscar en nuestro stock, lo siguiente:\n
        - Ropa de: {gender}\n
        - CategorÃ­a: {category}\n
        - Edad: {size}\n
        - Color: {color}\n"

  utter_ask_PERSON:
    - text: Hola bienvenido, Â¿Con quiÃ©n tengo el gusto?
  
  utter_ask_email:
    - text: '{PERSON}, por ser una de las primeras personas en probar este bot te voy a enviar un regalo, Â¿Me puedes ayudar con tu correo por favor?'

  utter_complete_information: 
    - text: Muchas gracias, pronto recibiras un pequeÃ±o detalle de mi parte.

  utter_ask_gender:
    - text: Â¿Para que chiquitÃ­n buscas la ropa?
      buttons:
        - title: NiÃ±a ğŸ‘§ğŸ» .
          payload: '/request_clothes{{"gender":"niÃ±a"}}'
        - title: NiÃ±o ğŸ‘¦ğŸ» .
          payload: '/request_clothes{{"gender":"niÃ±o"}}'

  utter_ask_size:
    - text: 'Â¿Para que edad buscas la ropa de {gender}?'
  
  utter_ask_color:
    - text: 'Â¿AlgÃºn color en particular ğŸ¨?'
  
  utter_ask_continue:
    - text: 'Â¿QuiÃ©res continuar? ğŸ¤”'

  utter_ask_feedback:
    - text: Hello World!
      quick_replies:
        - title: 'Malo'
          payload: '/feedback{{"feedback_value": "1"}}'
        - title: 'Regular'
          payload: '/feedback{{"feedback_value": "2"}}'
        - title: 'Bueno'
          payload: '/feedback{{"feedback_value": "3"}}'
        - title: 'Excelente'
          payload: '/feedback{{"feedback_value": "4"}}'

forms:
  clothes_form:
    ignored_intents:
      - chichat
      - faq
    required_slots:
      gender:
        - entity: gender
          type: from_entity
          intent: [inform, request_clothes]
      category:
        - entity: category  
          type: from_entity
      size:
        - entity: number
          type: from_entity
          intent: [inform, request_clothes]
      color:
        - type: from_entity
          entity: color
        - type: from_text
          not_intent: [chichat, faq]
        - type: from_intent
          intent: deny
          value: No
  name_form:
    ignored_intents:
      - chichat
      - faq
    required_slots:
      PERSON:
        - entity: PERSON
          type: from_entity
        - intent:
          - give_name
          type: from_text
      email:
        - entity: email  
          type: from_text
           
actions:
  - action_hello_world
  - validate_clothes_form
  - action_ask_category
  - action_product_search


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
