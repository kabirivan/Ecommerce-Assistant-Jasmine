version: '2.0'

rules:
  - rule: feedback form
    condition:
      - slot_was_set:
        - feedback_fill: null
    steps:
      - intent: give_feedback
      - action: feedback_form
      - active_loop: feedback_form

  - rule: Exit Feedback Form
    condition:
    - active_loop: feedback_form
    steps:
    - intent: stop
    - action: action_deactivate_loop
    - active_loop: null
    - action: action_stop_feedback_form
    - action: utter_cancel_get_feedback
    - action: utter_anything_else

  # - rule: submit feedback form
  #   condition:
  #     - active_loop: feedback_form
  #   steps:
  #     - action: feedback_form
  #     - active_loop: null
  #     - slot_was_set:
  #         - requested_slot: null
  #     - action: action_thanks_feedback
  #     - action: utter_anything_else

  - rule: my feedback
    steps:
      - intent: my_feedback
      - action: action_feedback_user


